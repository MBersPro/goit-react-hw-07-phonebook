{"version":3,"sources":["components/contactList/ContactList.module.css","components/section/Section.js","redux/contacts/phoneBookActions.js","redux/contacts/phoneBookTypes.js","redux/contacts/phoneBookOperations.js","components/contactForm/ContactForm.js","redux/contacts/phoneBookSelectors.js","components/contactList/ContactList.js","components/filter/Filter.js","components/App.js","redux/contacts/phoneBookReducers.js","redux/store.js","index.js","components/contactForm/ContactForm.module.css"],"names":["module","exports","Section","title","children","getContacts","createAction","addNewContact","deleteContact","filterName","setError","removeError","setLoader","removeLoader","axios","defaults","baseURL","initialState","name","number","ContactForm","useState","state","setState","dispatch","useDispatch","onHandleChange","e","target","value","prev","onSubmit","preventDefault","contact","id","uuidv4","arg","post","then","data","catch","error","className","form","label","input","type","onChange","pattern","loadingSelector","loader","errorSelector","getSomeContactsSelector","contacts","contactsList","filter","toLowerCase","includes","ContactList","filteredContacts","useSelector","removeContact","delete","deleteContactOperation","ul","map","item","p","onClick","mapDispatchToProps","connect","App","useEffect","get","contactsReducer","createReducer","action","payload","errorReducer","loaderReducer","phoneBookReducer","combineReducers","store","configureStore","reducer","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4909e7c6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ul\":\"ContactList_ul__bRoV3\",\"p\":\"ContactList_p__3Df9Y\"};","import React from 'react';\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Section = ({title, children}) => {\r\n    return (\r\n        <section>\r\n            <h2>{title}</h2>\r\n            {children}\r\n        </section>\r\n    );\r\n}\r\n\r\nSection.propTypes = {\r\n    title: PropTypes.string.isRequired,\r\n    children: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Section;","import { createAction } from \"@reduxjs/toolkit\";\r\nimport {\r\n  ADDNEWCONTACT,\r\n  DELETECONTACT,\r\n  FILTERNAME,\r\n  GETCONTACTS,\r\n  REMOVEERROR,\r\n  REMOVELOADER,\r\n  SETERROR,\r\n  SETLOADER,\r\n} from \"./phoneBookTypes\";\r\n\r\nconst getContacts = createAction(GETCONTACTS);\r\nconst addNewContact = createAction(ADDNEWCONTACT);\r\nconst deleteContact = createAction(DELETECONTACT);\r\nconst filterName = createAction(FILTERNAME);\r\n\r\nconst setError = createAction(SETERROR);\r\nconst removeError = createAction(REMOVEERROR)\r\n\r\nconst setLoader = createAction(SETLOADER)\r\nconst removeLoader = createAction(REMOVELOADER)\r\n\r\nexport {\r\n  addNewContact,\r\n  deleteContact,\r\n  filterName,\r\n  setError,\r\n  getContacts,\r\n  setLoader,\r\n  removeError,\r\n  removeLoader,\r\n};\r\n","const GETCONTACTS = \"contacts/getContacts\";\r\nconst ADDNEWCONTACT = \"contacts/addNewContact\";\r\nconst DELETECONTACT = \"contacts/deleteContact\";\r\nconst FILTERNAME = \"name/filterName\";\r\n\r\nconst SETERROR = \"error/setError\";\r\nconst REMOVEERROR = \"error/remove/Error\";\r\n\r\nconst SETLOADER = \"loader/setLoader\";\r\nconst REMOVELOADER = \"loader/removeLoader\";\r\n\r\nexport {\r\n  ADDNEWCONTACT,\r\n  DELETECONTACT,\r\n  FILTERNAME,\r\n  GETCONTACTS,\r\n  SETERROR,\r\n  REMOVEERROR,\r\n  SETLOADER,\r\n  REMOVELOADER,\r\n};\r\n","import axios from \"axios\";\r\n\r\nimport {\r\n  addNewContact,\r\n  deleteContact,\r\n  getContacts,\r\n  setError,\r\n  setLoader,\r\n} from \"./phoneBookActions\";\r\n\r\naxios.defaults.baseURL = \"http://localhost:4000\";\r\n\r\nexport const getContactsOperation = () => (dispatch) => {\r\n  dispatch(setLoader());\r\n  axios\r\n    .get(\"/contacts\")\r\n    .then(({ data }) => dispatch(getContacts(data)))\r\n    .catch(() => dispatch(setError()));\r\n};\r\n\r\nexport const addNewContactOperation = (contact) => (dispatch) => {\r\n  dispatch(setLoader());\r\n  axios\r\n    .post(\"/contacts/\", contact)\r\n    .then(({ data }) => dispatch(addNewContact(data)))\r\n    .catch((error) => {\r\n      dispatch(setError(error));\r\n    });\r\n};\r\n\r\nexport const deleteContactOperation = (id) => (dispatch) => {\r\n  dispatch(setLoader());\r\n  axios\r\n    .delete(`/contacts/${id}`)\r\n    .then(() => dispatch(deleteContact(id)))\r\n    .catch((error) => {\r\n      dispatch(setError(error));\r\n    });\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { form, label, input } from \"./ContactForm.module.css\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addNewContactOperation } from \"../../redux/contacts/phoneBookOperations\";\r\n\r\nconst initialState = {\r\n  name: \"\",\r\n  number: \"\",\r\n};\r\n\r\nconst ContactForm = () => {\r\n  const [state, setState] = useState({ ...initialState });\r\n  const dispatch = useDispatch();\r\n\r\n  const onHandleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const id = uuidv4()\r\n    const arg = {...state, id}\r\n    dispatch(addNewContactOperation(arg));\r\n    setState({ ...initialState });\r\n  };\r\n\r\n  const onHandleChange = (e) => {\r\n    const { value, name } = e.target;\r\n    setState((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={onHandleSubmit} className={form}>\r\n        <label className={label}>\r\n          Name\r\n          <input\r\n            className={input}\r\n            type=\"text\"\r\n            onChange={onHandleChange}\r\n            value={state.name}\r\n            name=\"name\"\r\n            title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\r\n          />\r\n        </label>\r\n        <label>\r\n          Number\r\n          <input\r\n            className={input}\r\n            type=\"text\"\r\n            onChange={onHandleChange}\r\n            value={state.number}\r\n            name=\"number\"\r\n            title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\r\n            pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n          />\r\n        </label>\r\n        <button type=\"submit\" className={input}>\r\n          Add contact\r\n        </button>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ContactForm;\r\n","export const initialStateSelector = (state) => state.contacts.contactsList\r\nexport const loadingSelector = (state) => state.loader\r\nexport const errorSelector = (state) => state.error\r\n\r\nexport const getSomeContactsSelector = (state) => {\r\n    if (state.contacts.filterName)\r\n        return [...state.contacts.contactsList.filter(({ name }) =>\r\n            name.toLowerCase().includes(state.contacts.filterName)\r\n        )]\r\n      \r\n    return state.contacts.contactsList\r\n};","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { ul, p } from \"./ContactList.module.css\";\r\nimport { deleteContactOperation} from \"../../redux/contacts/phoneBookOperations\";\r\nimport { getSomeContactsSelector,  } from \"../../redux/contacts/phoneBookSelectors\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nconst ContactList = () => {\r\n  const filteredContacts = useSelector(getSomeContactsSelector);\r\n  const dispatch = useDispatch()\r\n  const removeContact = (id) => {\r\n    dispatch(deleteContactOperation(id))\r\n  }\r\n\r\n  return (\r\n    <ul className={ul}>\r\n      {filteredContacts.map((item) => (\r\n        <li key={item.id}>\r\n          <p className={p}>\r\n            {item.name}: {item.number}\r\n          </p>\r\n          <button\r\n            type=\"button\"\r\n            id={item.id}\r\n            onClick={() => removeContact(item.id)}\r\n          >\r\n            Delete Contact\r\n          </button>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nContactList.propTypes = {\r\n  contacts: PropTypes.func.isRequired,\r\n  deleteContact: PropTypes.func.isRequired,\r\n};\r\n// const mapStateToProps = (state) => {\r\n//   if (state.contacts.filterName)\r\n//     return {contacts: state.contacts.contactsList.filter(({ name }) => name.toLowerCase().includes(state.contacts.filterName)) };\r\n//   return {contacts: state.contacts.contactsList}\r\n// }\r\n\r\n// const mapDispatchToProps = {\r\n//   deleteContact,\r\n// };\r\n\r\nexport default ContactList;\r\n// export default connect(getSomeContactsSelector, mapDispatchToProps)(ContactList);\r\n// getContactsOperation: () => dispatch(getContacts()),\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport { filterName } from \"../../redux/contacts/phoneBookActions\";\r\n\r\nconst Filter = ({ filterName }) => {\r\n  // const [value, setValue] = useState(\"\");\r\n  const setFilter = ({ target }) => {\r\n      const { value } = target;\r\n      filterName(value);\r\n  };\r\n  return (\r\n    <input\r\n      type=\"text\"\r\n      onChange={setFilter}\r\n      // value={filter}\r\n    />\r\n  );\r\n};\r\n\r\nFilter.propTypes = {\r\n  setFilter: PropTypes.func.isRequired,\r\n  filter: PropTypes.func.isRequired,\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  filterName,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(Filter);\r\n","import React, { useEffect } from \"react\";\r\nimport Section from \"./section/Section\";\r\nimport ContactForm from \"./contactForm/ContactForm\";\r\nimport ContactList from \"./contactList/ContactList\";\r\nimport Filter from \"./filter/Filter\";\r\nimport { getContactsOperation } from \"../redux/contacts/phoneBookOperations\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { errorSelector, loadingSelector } from \"../redux/contacts/phoneBookSelectors\";\r\n\r\nconst App = () => {\r\n  const dispatch = useDispatch();\r\n  const loader = useSelector(loadingSelector);\r\n  const error = useSelector(errorSelector);\r\n  useEffect(() => {\r\n    dispatch(getContactsOperation());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <>\r\n      {!loader && !error && (\r\n        <>\r\n          <Section title={\"Phonebook\"}>\r\n            <ContactForm />\r\n          </Section>\r\n          <Section title={\"Contacts\"}>\r\n            <Filter />\r\n            <ContactList />\r\n          </Section>\r\n        </>\r\n      )}\r\n      {loader && <p>...Loading</p>}\r\n      {error && <p>Something is wrong</p>}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { createReducer, combineReducers } from \"@reduxjs/toolkit\";\r\nimport {\r\n  addNewContact,\r\n  deleteContact,\r\n  filterName,\r\n  getContacts,\r\n  setError,\r\n  setLoader,\r\n  removeError,\r\n  removeLoader,\r\n} from \"./phoneBookActions\";\r\n\r\nconst initialState = {\r\n  contactsList: [],\r\n  filterName: \"\",\r\n};\r\n\r\nconst contactsReducer = createReducer(initialState, {\r\n  [getContacts]: (state, action) => ({\r\n    ...state,\r\n    contactsList: action.payload,\r\n  }),\r\n  [addNewContact]: (state, action) => ({\r\n    ...state,\r\n    contactsList: [...state.contactsList, action.payload],\r\n  }),\r\n  [deleteContact]: (state, action) => ({\r\n    ...state,\r\n    contactsList: state.contactsList.filter(\r\n      (contact) => contact.id !== action.payload\r\n    ),\r\n  }),\r\n  [filterName]: (state, action) => ({ ...state, filterName: action.payload }),\r\n});\r\n\r\nconst errorReducer = createReducer(\"\", {\r\n  [setError]: () => true,\r\n  [removeError]: () => false,\r\n  [getContacts]: () => false,\r\n});\r\n\r\nconst loaderReducer = createReducer(false, {\r\n  [setLoader]: () => true,\r\n  [removeLoader]: () => false,\r\n  [getContacts]: () => false,\r\n  [addNewContact]: () => false,\r\n  [setError]: () => false,\r\n  [deleteContact]: () => false,\r\n});\r\n\r\nconst phoneBookReducer = combineReducers({\r\n  contacts: contactsReducer,\r\n  error: errorReducer,\r\n  loader: loaderReducer,\r\n});\r\n\r\nexport default phoneBookReducer;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport phoneBookReducer from \"./contacts/phoneBookReducers\";\r\n\r\nconst store = configureStore({ reducer: phoneBookReducer });\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./redux/store\";\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ContactForm_form__2Om-A\",\"label\":\"ContactForm_label__4Z1IM\",\"input\":\"ContactForm_input__3bPW5\"};"],"sourceRoot":""}