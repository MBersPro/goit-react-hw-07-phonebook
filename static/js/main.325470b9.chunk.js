(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{18:function(t,e,c){t.exports={ul:"ContactList_ul__bRoV3",p:"ContactList_p__3Df9Y"}},33:function(t,e,c){},59:function(t,e,c){"use strict";c.r(e);var n=c(0),a=c(13),r=c.n(a),o=(c(33),c(1)),b=function(t){var e=t.title,c=t.children;return Object(o.jsxs)("section",{children:[Object(o.jsx)("h2",{children:e}),c]})},u=c(2),i=c(4),s=c(28),j=c(61),l=c(8),O=c(5),d=c(10),f=c.n(d),m=c(3),h=Object(m.b)("contacts/getContactsSuccess"),p=Object(m.b)("contacts/addNewContactSuccess"),x=Object(m.b)("contacts/deleteContactSuccess"),C=Object(m.b)("name/filterName"),g=Object(m.b)("error/getContactsError"),N=Object(m.b)("error/addNewContactError"),v=Object(m.b)("error/deleteContactError"),_=Object(m.b)("error/removeError"),L=Object(m.b)("loader/getContactsRequest"),y=Object(m.b)("loader/addNewContactRequest"),w=Object(m.b)("loader/deleteContactRequest");f.a.defaults.baseURL="http://localhost:4000";var k,E,F,S={name:"",number:""},R=function(){var t=Object(n.useState)(Object(i.a)({},S)),e=Object(s.a)(t,2),c=e[0],a=e[1],r=Object(O.c)(),b=function(t){var e=t.target,c=e.value,n=e.name;a((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(u.a)({},n,c))}))};return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("form",{onSubmit:function(t){t.preventDefault();var e,n=Object(j.a)(),o=Object(i.a)(Object(i.a)({},c),{},{id:n});r((e=o,function(t){t(y()),f.a.post("/contacts/",e).then((function(e){var c=e.data;return t(p(c))})).catch((function(e){t(N(e))}))})),a(Object(i.a)({},S))},className:l.form,children:[Object(o.jsxs)("label",{className:l.label,children:["Name",Object(o.jsx)("input",{className:l.input,type:"text",onChange:b,value:c.name,name:"name",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f."})]}),Object(o.jsxs)("label",{children:["Number",Object(o.jsx)("input",{className:l.input,type:"text",onChange:b,value:c.number,name:"number",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}"})]}),Object(o.jsx)("button",{type:"submit",className:l.input,children:"Add contact"})]})})},A=c(18),q=c(15),D=function(t){return t.loader},J=function(t){return t.error},B=function(t){return t.contacts.filterName?Object(q.a)(t.contacts.contactsList.filter((function(e){return e.name.toLowerCase().includes(t.contacts.filterName)}))):t.contacts.contactsList},I=function(){var t=Object(O.d)(B),e=Object(O.c)(),c=function(t){e(function(t){return function(e){e(w()),f.a.delete("/contacts/".concat(t)).then((function(){return e(x(t))})).catch((function(t){e(v(t))}))}}(t))};return Object(o.jsx)("ul",{className:A.ul,children:t.map((function(t){return Object(o.jsxs)("li",{children:[Object(o.jsxs)("p",{className:A.p,children:[t.name,": ",t.number]}),Object(o.jsx)("button",{type:"button",id:t.id,onClick:function(){return c(t.id)},children:"Delete Contact"})]},t.id)}))})},M={filterName:C},P=Object(O.b)(null,M)((function(t){var e=t.filterName;return Object(o.jsx)("input",{type:"text",onChange:function(t){var c=t.target.value;e(c)}})})),z=function(){var t=Object(O.c)(),e=Object(O.d)(D),c=Object(O.d)(J);return Object(n.useEffect)((function(){t((function(t){t(L()),f.a.get("/contacts").then((function(e){var c=e.data;return t(h(c))})).catch((function(){return t(g())}))}))}),[t]),Object(o.jsxs)(o.Fragment,{children:[!e&&!c&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(b,{title:"Phonebook",children:Object(o.jsx)(R,{})}),Object(o.jsxs)(b,{title:"Contacts",children:[Object(o.jsx)(P,{}),Object(o.jsx)(I,{})]})]}),e&&Object(o.jsx)("p",{children:"...Loading"}),c&&Object(o.jsx)("p",{children:"Something is wrong"})]})},U=c(7),V=Object(m.c)({contactsList:[],filterName:""},(k={},Object(u.a)(k,h,(function(t,e){return Object(i.a)(Object(i.a)({},t),{},{contactsList:e.payload})})),Object(u.a)(k,p,(function(t,e){return Object(i.a)(Object(i.a)({},t),{},{contactsList:[].concat(Object(q.a)(t.contactsList),[e.payload])})})),Object(u.a)(k,x,(function(t,e){return Object(i.a)(Object(i.a)({},t),{},{contactsList:t.contactsList.filter((function(t){return t.id!==e.payload}))})})),Object(u.a)(k,C,(function(t,e){return Object(i.a)(Object(i.a)({},t),{},{filterName:e.payload})})),k)),W=Object(m.c)(!1,(E={},Object(u.a)(E,g,(function(){return!0})),Object(u.a)(E,N,(function(){return!0})),Object(u.a)(E,v,(function(){return!0})),Object(u.a)(E,_,(function(){return!1})),E)),Y=Object(m.c)(!1,(F={},Object(u.a)(F,L,(function(){return!0})),Object(u.a)(F,y,(function(){return!0})),Object(u.a)(F,w,(function(){return!0})),Object(u.a)(F,h,(function(){return!1})),Object(u.a)(F,p,(function(){return!1})),Object(u.a)(F,x,(function(){return!1})),F)),Z=Object(U.b)({contacts:V,error:W,loader:Y}),G=Object(m.a)({reducer:Z});r.a.render(Object(o.jsx)(O.a,{store:G,children:Object(o.jsx)(z,{})}),document.getElementById("root"))},8:function(t,e,c){t.exports={form:"ContactForm_form__2Om-A",label:"ContactForm_label__4Z1IM",input:"ContactForm_input__3bPW5"}}},[[59,1,2]]]);
//# sourceMappingURL=main.325470b9.chunk.js.map