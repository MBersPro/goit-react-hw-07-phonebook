(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{18:function(t,e,n){t.exports={ul:"ContactList_ul__bRoV3",p:"ContactList_p__3Df9Y"}},33:function(t,e,n){},59:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n(13),r=n.n(a),o=(n(33),n(1)),i=function(t){var e=t.title,n=t.children;return Object(o.jsxs)("section",{children:[Object(o.jsx)("h2",{children:e}),n]})},b=n(2),u=n(3),s=n(28),j=n(61),l=n(8),O=n(5),f=n(10),d=n.n(f),m=n(4),h=Object(m.b)("contacts/getContacts"),p=Object(m.b)("contacts/addNewContact"),x=Object(m.b)("contacts/deleteContact"),v=Object(m.b)("name/filterName"),g=Object(m.b)("error/setError"),C=Object(m.b)("error/remove/Error"),N=Object(m.b)("loader/setLoader"),L=Object(m.b)("loader/removeLoader");d.a.defaults.baseURL="http://localhost:4000";var _,y,w,k={name:"",number:""},F=function(){var t=Object(c.useState)(Object(u.a)({},k)),e=Object(s.a)(t,2),n=e[0],a=e[1],r=Object(O.c)(),i=function(t){var e=t.target,n=e.value,c=e.name;a((function(t){return Object(u.a)(Object(u.a)({},t),{},Object(b.a)({},c,n))}))};return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("form",{onSubmit:function(t){t.preventDefault();var e,c=Object(j.a)(),o=Object(u.a)(Object(u.a)({},n),{},{id:c});r((e=o,function(t){t(N()),d.a.post("/contacts/",e).then((function(e){var n=e.data;return t(p(n))})).catch((function(e){t(g(e))}))})),a(Object(u.a)({},k))},className:l.form,children:[Object(o.jsxs)("label",{className:l.label,children:["Name",Object(o.jsx)("input",{className:l.input,type:"text",onChange:i,value:n.name,name:"name",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f."})]}),Object(o.jsxs)("label",{children:["Number",Object(o.jsx)("input",{className:l.input,type:"text",onChange:i,value:n.number,name:"number",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}"})]}),Object(o.jsx)("button",{type:"submit",className:l.input,children:"Add contact"})]})})},A=n(18),E=n(15),D=function(t){return t.loader},J=function(t){return t.error},S=function(t){return t.contacts.filterName?Object(E.a)(t.contacts.contactsList.filter((function(e){return e.name.toLowerCase().includes(t.contacts.filterName)}))):t.contacts.contactsList},B=function(){var t=Object(O.d)(S),e=Object(O.c)(),n=function(t){e(function(t){return function(e){e(N()),d.a.delete("/contacts/".concat(t)).then((function(){return e(x(t))})).catch((function(t){e(g(t))}))}}(t))};return Object(o.jsx)("ul",{className:A.ul,children:t.map((function(t){return Object(o.jsxs)("li",{children:[Object(o.jsxs)("p",{className:A.p,children:[t.name,": ",t.number]}),Object(o.jsx)("button",{type:"button",id:t.id,onClick:function(){return n(t.id)},children:"Delete Contact"})]},t.id)}))})},I={filterName:v},M=Object(O.b)(null,I)((function(t){var e=t.filterName;return Object(o.jsx)("input",{type:"text",onChange:function(t){var n=t.target.value;e(n)}})})),P=function(){var t=Object(O.c)(),e=Object(O.d)(D),n=Object(O.d)(J);return Object(c.useEffect)((function(){t((function(t){t(N()),d.a.get("/contacts").then((function(e){var n=e.data;return t(h(n))})).catch((function(){return t(g())}))}))}),[t]),Object(o.jsxs)(o.Fragment,{children:[!e&&!n&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(i,{title:"Phonebook",children:Object(o.jsx)(F,{})}),Object(o.jsxs)(i,{title:"Contacts",children:[Object(o.jsx)(M,{}),Object(o.jsx)(B,{})]})]}),e&&Object(o.jsx)("p",{children:"...Loading"}),n&&Object(o.jsx)("p",{children:"Something is wrong"})]})},R=n(7),z=Object(m.c)({contactsList:[],filterName:""},(_={},Object(b.a)(_,h,(function(t,e){return Object(u.a)(Object(u.a)({},t),{},{contactsList:e.payload})})),Object(b.a)(_,p,(function(t,e){return Object(u.a)(Object(u.a)({},t),{},{contactsList:[].concat(Object(E.a)(t.contactsList),[e.payload])})})),Object(b.a)(_,x,(function(t,e){return Object(u.a)(Object(u.a)({},t),{},{contactsList:t.contactsList.filter((function(t){return t.id!==e.payload}))})})),Object(b.a)(_,v,(function(t,e){return Object(u.a)(Object(u.a)({},t),{},{filterName:e.payload})})),_)),U=Object(m.c)("",(y={},Object(b.a)(y,g,(function(){return!0})),Object(b.a)(y,C,(function(){return!1})),Object(b.a)(y,h,(function(){return!1})),y)),V=Object(m.c)(!1,(w={},Object(b.a)(w,N,(function(){return!0})),Object(b.a)(w,L,(function(){return!1})),Object(b.a)(w,h,(function(){return!1})),Object(b.a)(w,p,(function(){return!1})),Object(b.a)(w,g,(function(){return!1})),Object(b.a)(w,x,(function(){return!1})),w)),W=Object(R.b)({contacts:z,error:U,loader:V}),Y=Object(m.a)({reducer:W});r.a.render(Object(o.jsx)(O.a,{store:Y,children:Object(o.jsx)(P,{})}),document.getElementById("root"))},8:function(t,e,n){t.exports={form:"ContactForm_form__2Om-A",label:"ContactForm_label__4Z1IM",input:"ContactForm_input__3bPW5"}}},[[59,1,2]]]);
//# sourceMappingURL=main.4909e7c6.chunk.js.map